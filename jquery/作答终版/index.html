<html lang="zh-CN">
<head>
    <title>趣味答题</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <link rel="stylesheet" type="text/css" href="css/common.css"/>
    <link rel="stylesheet" type="text/css" href="css/index.css?v=3"/>
</head>
<body>
<div>
    <!--    开始页-->
    <div class="start big-box show">
        <div class="content">
            <div class="top">
                <div class="title">
                    <img src="images/start_title.png">
                </div>
                <div class="disc">
                    <img src="images/start_gaosi.png" alt="">
                    <div class="disc-content">
                        <h3>题目介绍</h3>
                        <p class="ts">浏览句子，根据大致句意选出</p>
                        <p>合适的词填在括号内</p>
                    </div>
                </div>
            </div>
        </div>
        <img class="bg" src="images/start_tuoyuan.png">
        <div class="btn-box">
            <div>
                <img src="images/peoples.png" alt="">
            </div>
            <div class="btn">
                <button data-curr="start">开始答题</button>
            </div>
        </div>
    </div>
    <!--    题目一-->
    <div class="first hide big-box">
        <div class="content-top">
            <div class="number-bg">
                <div class="number-box">
                    <div class="number">
                        <span>1</span>
                    </div>
                </div>
            </div>
            <!--  题目-->
            <div class="ti-mu">
                <div>
                    <p>1、我登上大堤，（   ）的钱塘江便尽收眼底了。</p>
                    <p>2、我们的教室（   ）明亮，是学习的好场所。</p>
                </div>
            </div>
            <img class="persion" src="images/first-person.png" alt="">
        </div>
        <div class="content-bottom">
            <div class="btn">
                <button data-curr="first">A.宽阔 宽敞</button>
            </div>
            <div class="btn">
                <button data-curr="first">B.宽敞 宽阔</button>
            </div>
            <div class="btn">
                <button data-curr="first">C.从事新闻采访和报道的学生</button>
            </div>
            <div class="btn">
                <button data-curr="first">D.狗咬人不是新闻，人咬狗才是新闻</button>
            </div>
        </div>
    </div>
    <!--  题目二-->
    <div class="two hide big-box">
        <div class="content-top">
            <div class="number-bg">
                <div class="number-box">
                    <div class="number">
                        <span>2</span>
                    </div>
                </div>
            </div>
            <!--  题目-->
            <div class="ti-mu">
                <div>
                    <p>1、这两天，我（    ）小林好像有什么心事。</p>
                    <p>2、爱迪生（     ）了电灯，改变了人们的生活。</p>
                </div>
            </div>
            <img class="persion" src="images/two-person.png" alt="">
        </div>
        <div class="content-bottom">
            <div class="btn">
                <button data-curr="two">A.发明 发现</button>
            </div>
            <div class="btn">
                <button data-curr="two">B.发现 发明</button>
            </div>
            <div class="btn">
                <button data-curr="two">C.从事新闻采访和报道的学生</button>
            </div>
            <div class="btn">
                <button data-curr="two">D.狗咬人不是新闻，人咬狗才是新闻</button>
            </div>
        </div>
    </div>
    <!-- 题目三-->
    <div class="three hide big-box">
        <div class="content-top">
            <div class="number-bg">
                <div class="number-box">
                    <div class="number">
                        <span>3</span>
                    </div>
                </div>
            </div>
            <!--  题目-->
            <div class="ti-mu">
                <div>
                    <p>1、听了英雄的事迹， 我们的心情都很( )。</p>
                    <p>2、英雄的事迹使我们非常( )。</p>
                </div>
            </div>
            <img class="persion" src="images/three-person.png" alt="">
        </div>
        <div class="content-bottom">
            <div class="btn">
                <button data-curr="three">A.激动 感动</button>
            </div>
            <div class="btn">
                <button data-curr="three">B.感动 激动</button>
            </div>
            <div class="btn">
                <button data-curr="three">C.激动 感动</button>
            </div>
            <div class="btn">
                <button data-curr="three">D.感动 激动</button>
            </div>
        </div>
    </div>
    <!-- 题目四-->
    <div class="four hide big-box">
        <div class="content-top">
            <div class="number-bg">
                <div class="number-box">
                    <div class="number">
                        <span>4</span>
                    </div>
                </div>
            </div>
            <!--  题目-->
            <div class="ti-mu">
                <div>
                    <p>1、每当遇到困难的时候，我常常( )地想起我的老师。</p>
                    <p>2、在旧社会，贫苦人家（ ）， 被迫当牛做马。</p>
                </div>
            </div>
            <img class="persion" src="images/first-person.png" alt="">
        </div>
        <div class="content-bottom">
            <div class="btn">
                <button data-curr="four">A.不由自主身不由己</button>
            </div>
            <div class="btn">
                <button data-curr="four">B.身不由己不由自主</button>
            </div>
            <div class="btn">
                <button data-curr="four">C.不由自主身不由己</button>
            </div>
            <div class="btn">
                <button data-curr="four">D.身不由己不由自主</button>
            </div>
        </div>
    </div>
    <!-- 结束   tong-guo与no-tong-guo -->
    <div class="end big-box tong-guo hide">
        <div class="content-top">
            <img src="images/end-top-bg.png">
            <span class="result success">恭喜你</span>
            <span class="result fail">加油哦</span>
        </div>
        <div class="result-ti success">
            <p>满分通过</p>
        </div>
        <div class="result-ti fail">
            <p class="xiao">离满分还有距离</p>
            <p>再接再厉!</p>
            <p class="xiao err-number">第<span></span>题出错</p>
        </div>
        <div class="bottom">
            <img src="images/peoples.png" alt="">
            <div class="btn">
                <button class="success" data-curr="end">再做一次</button>
                <button class="fail" data-curr="end">再次挑战</button>
            </div>
        </div>
    </div>
    <!--  提示弹出层-->
    <div class="tooltip tooltip-info">
        <div class="tooltip-content tooltip-info">
            <img class="bg" src="images/tooltip.png">
            <div class="tooltip-msg">
                <p>读写客题目提示样式模板</p>
                <p>读写客题目提示样式模板</p>
            </div>
        </div>
    </div>
    <!--  出错提示弹出层-->
    <div class="tooltip tooltip-err">
        <div class="tooltip-content tooltip-err">
            <img class="bg" src="images/tooltip-err.png">
            <img src="images/close.png" class="close">
            <div class="tooltip-msg">
                <p class="msg-first">出错啦！</p>
                <p>再好好思考一下吧~</p>
            </div>
        </div>
    </div>
    <div class="loading big-box"></div>
</div>


<script src="js/jquery-3.2.1.js"></script>
<script>
    $(function () {
        const sortList = {
            start: {curr: ".start", next: ".first"},
            first: {rightAnswer: "A.宽阔宽敞", curr: ".first", next: ".two"},
            two: {rightAnswer: "B.发现发明", curr: ".two", next: ".three"},
            three: {rightAnswer: "A.激动感动", curr: ".three", next: ".four"},
            four: {rightAnswer: "A.不由自主身不由己", curr: ".four", next: ".end"},
            end: {curr: ".end", next: ".start"}
        };
        var errNum  = [];

        // 按钮点击答案
        $(".btn").on("click", 'button', function () {
            var currNum = $(this).data("curr");
            if (currNum === "start" || currNum === "end") {
                $(sortList[currNum].curr).removeClass("show").addClass("hide");
                $(sortList[currNum].next).removeClass("hide").addClass("show");
                if (currNum === "end") {
                    $(".end").removeClass("no-tong-guo").addClass("tong-guo");
                    errNum = [];
                    $(".err-number span").html("");
                }
            } else {
                var answer = $(this).text().replace(/\s*/g, "");
                if (sortList[currNum].rightAnswer !== answer) {
                    $(".tooltip-err").show();
                    switch (currNum) {
                        case "first":
                            if(errNum.indexOf(1)===-1)
                            errNum.push(1);
                            break;
                        case "two":
                            if(errNum.indexOf(2)===-1)
                            errNum.push(2);
                            break;
                        case "three":
                            if(errNum.indexOf(3)===-1)
                            errNum.push(3);
                            break;
                        case "four":
                            if(errNum.indexOf(4)===-1)
                            errNum.push(4);
                            break;
                    }
                    $(".err-number span").html(errNum.join("、"));
                    $(".end").removeClass("tong-guo").addClass("no-tong-guo");
                } else {
                    $(sortList[currNum].curr).removeClass("show").addClass("hide");
                    $(sortList[currNum].next).removeClass("hide").addClass("show");
                }
            }
        });
        // 点击任务给与提示
        $(".persion").click(function () {
            $(".tooltip-info").show();
        });
        // 点击遮罩层关闭弹框
        $(".tooltip").click(function (e) {
            $(this).hide();
        });
        $(".tooltip-content").click(function (e) {
            e.stopPropagation();
        });
        // 错误提示关闭
        $(".close").click(function () {
            $(".tooltip-err").hide();
        });
        getClientWidth();

        // 获取屏幕宽度
        function getClientWidth() {
            var docEl = document.documentElement;
            var clientWidth = docEl.clientWidth;
            if (!clientWidth) return;
            if (clientWidth >= 1200) {
                docEl.style.fontSize = '100px';
            } else {
                docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';
            }
        }

        var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'
        window.addEventListener(resizeEvt, getClientWidth, false);
    });
    if (window.addEventListener) {
        window.addEventListener("load", function () {
            $(".loading").hide();
        }, false);
    } else if (window.attachEvent) {
        window.attachEvent("onload", function () {
            $(".loading").hide();
        });
    } else if (window.onload) {
        window.onload = function () {
            $(".loading").hide();
        };
    }
</script>
</body>
</html>